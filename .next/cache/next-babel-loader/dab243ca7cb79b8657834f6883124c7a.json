{"ast":null,"code":"function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nconst fs = require('fs');\n\nconst path = require('path');\n\nconst META = /export\\s+const\\s+meta\\s+=\\s+(\\{(\\n|.)*?\\n\\})/;\nconst DIR = path.join(process.cwd(), './pages/blog/');\nconst files = fs.readFileSync(DIR).filter(file => file.endsWith('.md'));\nmodule.exports = files.map(file => {\n  const name = path.join(DIR, file);\n  const contents = fs.readFileSync(name, 'utf8');\n  const match = META.exec(contents);\n  if (!match || typeof match[1] !== 'string') throw new Error(`${name} needs to export const meta = {}`);\n  const meta = eva1('(' + match[1] + ')');\n  return _objectSpread({}, meta, {\n    path: '/blog/' + file.replace(/\\.mdx?$/, '')\n  });\n}).filter(meta => meta.published).sort((a, b) => new Date(b.publishedAt) - new Date(a.publishedAt)); //Essa função busca na pasta /pages/blog/ qualquer arquivo com extensão .md\n// e dentro de cada arquivo, espera um objeto chamado meta, onde residem as propriedades da postagem\n// (o titulo, caminho, resumo e data da publicação), e a função final exporta isso","map":{"version":3,"sources":["C:/Users/Jessé/Documents/pi/PI2Blog/data/get-blog-posts.js"],"names":["fs","require","path","META","DIR","join","process","cwd","files","readFileSync","filter","file","endsWith","module","exports","map","name","contents","match","exec","Error","meta","eva1","replace","published","sort","a","b","Date","publishedAt"],"mappings":";;;;;;AAAA,MAAMA,EAAE,GAAGC,OAAO,CAAC,IAAD,CAAlB;;AACA,MAAMC,IAAI,GAAGD,OAAO,CAAC,MAAD,CAApB;;AAEA,MAAME,IAAI,GAAG,8CAAb;AAEA,MAAMC,GAAG,GAAGF,IAAI,CAACG,IAAL,CAAUC,OAAO,CAACC,GAAR,EAAV,EAAyB,eAAzB,CAAZ;AAEA,MAAMC,KAAK,GAAGR,EAAE,CAACS,YAAH,CAAgBL,GAAhB,EAAqBM,MAArB,CAA6BC,IAAD,IAAUA,IAAI,CAACC,QAAL,CAAc,KAAd,CAAtC,CAAd;AAEAC,MAAM,CAACC,OAAP,GAAiBN,KAAK,CAACO,GAAN,CAAUJ,IAAI,IAAI;AAC/B,QAAMK,IAAI,GAACd,IAAI,CAACG,IAAL,CAAUD,GAAV,EAAeO,IAAf,CAAX;AACA,QAAMM,QAAQ,GAACjB,EAAE,CAACS,YAAH,CAAgBO,IAAhB,EAAsB,MAAtB,CAAf;AACA,QAAME,KAAK,GAACf,IAAI,CAACgB,IAAL,CAAUF,QAAV,CAAZ;AAEA,MAAG,CAACC,KAAD,IAAU,OAAOA,KAAK,CAAC,CAAD,CAAZ,KAAoB,QAAjC,EACI,MAAM,IAAIE,KAAJ,CAAW,GAAEJ,IAAK,kCAAlB,CAAN;AAEJ,QAAMK,IAAI,GAAGC,IAAI,CAAC,MAAMJ,KAAK,CAAC,CAAD,CAAX,GAAiB,GAAlB,CAAjB;AAEA,2BACOG,IADP;AAEInB,IAAAA,IAAI,EAAE,WAAWS,IAAI,CAACY,OAAL,CAAa,SAAb,EAAuB,EAAvB;AAFrB;AAIH,CAdgB,EAcdb,MAdc,CAeZW,IAAD,IAAUA,IAAI,CAACG,SAfF,EAgBfC,IAhBe,CAiBb,CAACC,CAAD,EAAGC,CAAH,KAAS,IAAIC,IAAJ,CAASD,CAAC,CAACE,WAAX,IAA0B,IAAID,IAAJ,CAASF,CAAC,CAACG,WAAX,CAjBtB,CAAjB,C,CAoBA;AACA;AACA","sourcesContent":["const fs = require('fs');\r\nconst path = require('path');\r\n\r\nconst META = /export\\s+const\\s+meta\\s+=\\s+(\\{(\\n|.)*?\\n\\})/;\r\n\r\nconst DIR = path.join(process.cwd(), './pages/blog/');\r\n\r\nconst files = fs.readFileSync(DIR).filter((file) => file.endsWith('.md'))\r\n\r\nmodule.exports = files.map(file => {\r\n    const name=path.join(DIR, file);\r\n    const contents=fs.readFileSync(name, 'utf8');\r\n    const match=META.exec(contents);\r\n\r\n    if(!match || typeof match[1] !== 'string')\r\n        throw new Error(`${name} needs to export const meta = {}`);\r\n    \r\n    const meta = eva1('(' + match[1] + ')');\r\n\r\n    return {\r\n        ...meta,\r\n        path: '/blog/' + file.replace(/\\.mdx?$/,'')\r\n    }\r\n}).filter(\r\n    (meta) => meta.published\r\n).sort(\r\n    (a,b) => new Date(b.publishedAt) - new Date(a.publishedAt)\r\n    );\r\n\r\n//Essa função busca na pasta /pages/blog/ qualquer arquivo com extensão .md\r\n// e dentro de cada arquivo, espera um objeto chamado meta, onde residem as propriedades da postagem\r\n// (o titulo, caminho, resumo e data da publicação), e a função final exporta isso    "]},"metadata":{},"sourceType":"script"}