{"ast":null,"code":"function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nconst fs = require('fs');\n\nconst path = require('path');\n\nconst META = /export\\s+const\\s+meta\\s+=\\s+(\\{(\\n|.)*?\\n\\})/;\nconst DIR = path.join(process.cwd(), './pages/blog/');\nconst files = fs.readdirSync(DIR).filter(file => file.endsWith('.md'));\nmodule.exports = files.map(file => {\n  const name = path.join(DIR, file);\n  const contents = fs.readFileSync(name, 'utf8');\n  const match = META.exec(contents);\n  if (!match || typeof match[1] !== 'string') throw new Error(`${name} needs to export const meta = {}`);\n  const meta = eval('(' + match[1] + ')');\n  return _objectSpread({}, meta, {\n    path: '/blog/' + file.replace(/\\.mdx?$/, '')\n  });\n}).filter(meta => meta.published).sort((a, b) => new Date(b.publishedAt) - new Date(a.publishedAt)); //Essa função busca na pasta /pages/blog/ qualquer arquivo com extensão .md\n// e dentro de cada arquivo, espera um objeto chamado meta, onde residem as propriedades da postagem\n// (o titulo, caminho, resumo e data da publicação), e a função final exporta isso","map":{"version":3,"sources":["C:/Users/Jessé/Documents/pi/PI2Blog/data/get-blog-posts.js"],"names":["fs","require","path","META","DIR","join","process","cwd","files","readdirSync","filter","file","endsWith","module","exports","map","name","contents","readFileSync","match","exec","Error","meta","eval","replace","published","sort","a","b","Date","publishedAt"],"mappings":";;;;;;AAAA,MAAMA,EAAE,GAAGC,OAAO,CAAC,IAAD,CAAlB;;AACA,MAAMC,IAAI,GAAGD,OAAO,CAAC,MAAD,CAApB;;AAEA,MAAME,IAAI,GAAG,8CAAb;AACA,MAAMC,GAAG,GAAGF,IAAI,CAACG,IAAL,CAAUC,OAAO,CAACC,GAAR,EAAV,EAAyB,eAAzB,CAAZ;AACA,MAAMC,KAAK,GAAGR,EAAE,CACbS,WADW,CACCL,GADD,EAEXM,MAFW,CAEHC,IAAD,IAAUA,IAAI,CAACC,QAAL,CAAc,KAAd,CAFN,CAAd;AAIAC,MAAM,CAACC,OAAP,GAAiBN,KAAK,CACnBO,GADc,CACVJ,IAAI,IAAI;AACX,QAAMK,IAAI,GAAGd,IAAI,CAACG,IAAL,CAAUD,GAAV,EAAeO,IAAf,CAAb;AACA,QAAMM,QAAQ,GAAGjB,EAAE,CAACkB,YAAH,CAAgBF,IAAhB,EAAsB,MAAtB,CAAjB;AACA,QAAMG,KAAK,GAAGhB,IAAI,CAACiB,IAAL,CAAUH,QAAV,CAAd;AAEA,MAAI,CAACE,KAAD,IAAU,OAAOA,KAAK,CAAC,CAAD,CAAZ,KAAoB,QAAlC,EACE,MAAM,IAAIE,KAAJ,CAAW,GAAEL,IAAK,kCAAlB,CAAN;AAEF,QAAMM,IAAI,GAAGC,IAAI,CAAC,MAAMJ,KAAK,CAAC,CAAD,CAAX,GAAiB,GAAlB,CAAjB;AAEA,2BACOG,IADP;AAEIpB,IAAAA,IAAI,EAAE,WAAWS,IAAI,CAACa,OAAL,CAAa,SAAb,EAAwB,EAAxB;AAFrB;AAID,CAfc,EAgBdd,MAhBc,CAgBNY,IAAD,IAAUA,IAAI,CAACG,SAhBR,EAiBdC,IAjBc,CAiBT,CAACC,CAAD,EAAIC,CAAJ,KAAU,IAAIC,IAAJ,CAASD,CAAC,CAACE,WAAX,IAA0B,IAAID,IAAJ,CAASF,CAAC,CAACG,WAAX,CAjB3B,CAAjB,C,CAkBA;AACA;AACA","sourcesContent":["const fs = require('fs');\r\nconst path = require('path');\r\n\r\nconst META = /export\\s+const\\s+meta\\s+=\\s+(\\{(\\n|.)*?\\n\\})/;\r\nconst DIR = path.join(process.cwd(), './pages/blog/');\r\nconst files = fs\r\n  .readdirSync(DIR)\r\n  .filter((file) => file.endsWith('.md'));\r\n\r\nmodule.exports = files\r\n  .map(file => {\r\n    const name = path.join(DIR, file);\r\n    const contents = fs.readFileSync(name, 'utf8');\r\n    const match = META.exec(contents);\r\n\r\n    if (!match || typeof match[1] !== 'string')\r\n      throw new Error(`${name} needs to export const meta = {}`);\r\n\r\n    const meta = eval('(' + match[1] + ')');\r\n\r\n    return {\r\n        ...meta,\r\n        path: '/blog/' + file.replace(/\\.mdx?$/, '')\r\n      };\r\n  })\r\n  .filter((meta) => meta.published)\r\n  .sort((a, b) => new Date(b.publishedAt) - new Date(a.publishedAt));\r\n//Essa função busca na pasta /pages/blog/ qualquer arquivo com extensão .md\r\n// e dentro de cada arquivo, espera um objeto chamado meta, onde residem as propriedades da postagem\r\n// (o titulo, caminho, resumo e data da publicação), e a função final exporta isso    "]},"metadata":{},"sourceType":"script"}